<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Continuous scrolling - fullPage.js</title>
    <meta name="author" content="Matthew Howell" />
    <meta name="description" content="fullPage continuous scrolling demo." />
    <meta name="keywords"  content="fullpage,jquery,demo,scroll,loop,continuous" />
    <meta name="Resource-type" content="Document" />


    <link rel="stylesheet" type="text/css" href="../jquery.fullPage.css" />
    <link rel="stylesheet" type="text/css" href="examples.css" />

    <!--[if IE]>
        <script type="text/javascript">
             var console = { log: function() {} };
        </script>
    <![endif]-->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>

    <script type="text/javascript" src="../jquery.fullPage.js"></script>
    <script type="text/javascript" src="examples.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#fullpage').fullpage({
              sectionsColor: ['#1bbc9b', '#4BBFC3', '#7BAABE', 'whitesmoke', '#ccddff'],
              anchors: ['firstPage', 'secondPage', '3rdPage', '4thpage', '5thpage', '6thpage', '7thpage', '8thpage', '9thpage', '10thpage', '11thpage', '12thpage'],
              menu: '#menu',
              navigation: true
            });
        });
    </script>
    <!--test range sliders -->
    <link rel="stylesheet" href="range-slider.css">
    <style>
        *,
        *:before,
        *:after {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        html {
            color: #404040;
            font-family: Helvetica, arial, sans-serif;
        }

        body {
            padding: 50px 20px;
            margin: 0 auto;
        }

        output {
            display: block;
            font-size: 30px;
            font-weight: bold;
            text-align: center;
            margin: 30px 0;
            width: 100%;
        }
    </style>

</head>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>

<div id="fullpage">
    <div class="section " id="section0">
        <h1><img src="imgs/dollarx.png" width="200" height="83.4" /> can't buy happiness</h1>
        <p>they say...</p>
    </div>
    <div class="section " id="section1">
        <h1>… but it can buy 
        <img src="imgs/nutella.png" width="200" height="200" />, which is kind of the same thing
        </h1>
        <p>Jokes aside, what does make people happy around the world? Let’s find out!</p>
    </div>
    <div class="section " id="section2">
        <h1>Are you happy?</h1>
        <p>Continuous Scrolling Enabled</p>
        <tr>
            <td><div id="sliderObj"></div></td>
        </tr>
        <div>
        <input type="range" min="0" max="10">
        <input type="range" min="0" max="10" data-rangeSlider>
        <output></output>
        </div>
    </div>
    <div class="section " id="section3">
        <h1>Where are you from?</h1>
        <p></p>
        <select>
            <option value="Afghanistan">Afghanistan</option>
            <option value="Angola">Angola</option>
            <option value="Albania">Albania</option>
            <option value="United Arab Emirates">United Arab Emirates</option>
            <option value="Argentina">Argentina</option>
            <option value="Armenia">Armenia</option>
            <option value="Australia">Australia</option>
            <option value="Austria">Austria</option>
            <option value="Azerbaijan">Azerbaijan</option>
            <option value="Burundi">Burundi</option>
            <option value="Belgium">Belgium</option>
            <option value="Benin">Benin</option>
            <option value="Burkina Faso">Burkina Faso</option>
            <option value="Bangladesh">Bangladesh</option>
            <option value="Bulgaria">Bulgaria</option>
            <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
            <option value="Belarus">Belarus</option>
            <option value="Bolivia">Bolivia</option>
            <option value="Brazil">Brazil</option>
            <option value="Bhutan">Bhutan</option>
            <option value="Botswana">Botswana</option>
            <option value="Central African Republic">Central African Republic</option>
            <option value="Canada">Canada</option>
            <option value="Switzerland">Switzerland</option>
            <option value="Chile">Chile</option>
            <option value="China">China</option>
            <option value="Ivory Coast">Ivory Coast</option>
            <option value="Cameroon">Cameroon</option>
            <option value="Democratic Republic of the Congo">Democratic Republic of the Congo</option>
            <option value="Colombia">Colombia</option>
            <option value="Costa Rica">Costa Rica</option>
            <option value="Cyprus">Cyprus</option>
            <option value="Czech Republic">Czech Republic</option>
            <option value="Germany">Germany</option>
            <option value="Djibouti">Djibouti</option>
            <option value="Denmark">Denmark</option>
            <option value="Dominican Republic">Dominican Republic</option>
            <option value="Algeria">Algeria</option>
            <option value="Ecuador">Ecuador</option>
            <option value="Egypt">Egypt</option>
            <option value="Spain">Spain</option>
            <option value="Estonia">Estonia</option>
            <option value="Ethiopia">Ethiopia</option>
            <option value="Finland">Finland</option>
            <option value="France">France</option>
            <option value="Gabon">Gabon</option>
            <option value="United Kingdom">United Kingdom</option>
            <option value="Georgia">Georgia</option>
            <option value="Ghana">Ghana</option>
            <option value="Equatorial Guinea">Equatorial Guinea</option>
            <option value="Greece">Greece</option>
            <option value="Guatemala">Guatemala</option>
            <option value="Honduras">Honduras</option>
            <option value="Croatia">Croatia</option>
            <option value="Haiti">Haiti</option>
            <option value="Hungary">Hungary</option>
            <option value="Indonesia">Indonesia</option>
            <option value="India">India</option>
            <option value="Ireland">Ireland</option>
            <option value="Iran">Iran</option>
            <option value="Iraq">Iraq</option>
            <option value="Iceland">Iceland</option>
            <option value="Israel">Israel</option>
            <option value="Italy">Italy</option>
            <option value="Jamaica">Jamaica</option>
            <option value="Jordan">Jordan</option>
            <option value="Japan">Japan</option>
            <option value="Kazakhstan">Kazakhstan</option>
            <option value="Kenya">Kenya</option>
            <option value="Kyrgyzstan">Kyrgyzstan</option>
            <option value="Cambodia">Cambodia</option>
            <option value="South Korea">South Korea</option>
            <option value="Kuwait">Kuwait</option>
            <option value="Laos">Laos</option>
            <option value="Lebanon">Lebanon</option>
            <option value="Liberia">Liberia</option>
            <option value="Libya">Libya</option>
            <option value="Sri Lanka">Sri Lanka</option>
            <option value="Lesotho">Lesotho</option>
            <option value="Lithuania">Lithuania</option>
            <option value="Luxembourg">Luxembourg</option>
            <option value="Latvia">Latvia</option>
            <option value="Morocco">Morocco</option>
            <option value="Moldova">Moldova</option>
            <option value="Madagascar">Madagascar</option>
            <option value="Mexico">Mexico</option>
            <option value="Macedonia">Macedonia</option>
            <option value="Mali">Mali</option>
            <option value="Myanmar">Myanmar</option>
            <option value="Montenegro">Montenegro</option>
            <option value="Mongolia">Mongolia</option>
            <option value="Mozambique">Mozambique</option>
            <option value="Mauritania">Mauritania</option>
            <option value="Malawi">Malawi</option>
            <option value="Malaysia">Malaysia</option>
            <option value="Niger">Niger</option>
            <option value="Nigeria">Nigeria</option>
            <option value="Nicaragua">Nicaragua</option>
            <option value="Netherlands">Netherlands</option>
            <option value="Norway">Norway</option>
            <option value="Nepal">Nepal</option>
            <option value="New Zealand">New Zealand</option>
            <option value="Oman">Oman</option>
            <option value="Pakistan">Pakistan</option>
            <option value="Panama">Panama</option>
            <option value="Peru">Peru</option>
            <option value="Philippines">Philippines</option>
            <option value="Poland">Poland</option>
            <option value="Portugal">Portugal</option>
            <option value="Paraguay">Paraguay</option>
            <option value="Qatar">Qatar</option>
            <option value="Romania">Romania</option>
            <option value="Russia">Russia</option>
            <option value="Rwanda">Rwanda</option>
            <option value="Saudi Arabia">Saudi Arabia</option>
            <option value="Sudan">Sudan</option>
            <option value="Senegal">Senegal</option>
            <option value="Sierra Leone">Sierra Leone</option>
            <option value="El Salvador">El Salvador</option>
            <option value="Republic of Serbia">Republic of Serbia</option>
            <option value="Suriname">Suriname</option>
            <option value="Slovakia">Slovakia</option>
            <option value="Slovenia">Slovenia</option>
            <option value="Sweden">Sweden</option>
            <option value="Swaziland">Swaziland</option>
            <option value="Syria">Syria</option>
            <option value="Chad">Chad</option>
            <option value="Togo">Togo</option>
            <option value="Thailand">Thailand</option>
            <option value="Tajikistan">Tajikistan</option>
            <option value="Turkmenistan">Turkmenistan</option>
            <option value="Trinidad and Tobago">Trinidad and Tobago</option>
            <option value="Tunisia">Tunisia</option>
            <option value="Turkey">Turkey</option>
            <option value="Taiwan">Taiwan</option>
            <option value="United Republic of Tanzania">United Republic of Tanzania</option>
            <option value="Uganda">Uganda</option>
            <option value="Ukraine">Ukraine</option>
            <option value="Uruguay">Uruguay</option>
            <option value="United States of America">United States of America</option>
            <option value="Uzbekistan">Uzbekistan</option>
            <option value="Venezuela">Venezuela</option>
            <option value="Vietnam">Vietnam</option>
            <option value="Yemen">Yemen</option>
            <option value="South Africa">South Africa</option>
            <option value="Zambia">Zambia</option>
            <option value="Zimbabwe">Zimbabwe</option>
        </select>
    </div>
    <div class="section " id="section4">
        <h1>Happier than your compatriots...</h1>
        <p>Congrats!</p>
        <iframe id="iframex" sandbox="allow-popups allow-scripts allow-forms allow-same-origin" src="test_datamaps.html" marginwidth="0" marginheight="0" style="width: 860px; height: 400px;" scrolling="no"></iframe>
   </div>
    
    <div class="section " id="section5">
        <h1>But what do you think makes you happy?</h1>
    </div>
    
    <div class="section " id="section6">
        <p>Money</p>
        <input type="range" min="0" max="10" id="Economy (GDP per Capita)" onchange="modify_value()">
        <p>Freedom</p>
        <input type="range" min="0" max="10" id="Freedom" onchange="modify_value()">
        <p>Family</p>
        <input type="range" min="0" max="10" id="Family" onchange="modify_value()">
        <p>Trust in Governement</p>
        <input type="range" min="0" max="10" id="Trust (Government Corruption)" onchange="modify_value()">
        <p>Generosity</p>
        <input type="range" min="0" max="10" id="Generosity" onchange="modify_value()">
        <p>Health</p>
        <input type="range" min="0" max="10" id="Health (Life Expectancy)" onchange="modify_value()">
    </div>
    
    <div class="section " id="section7">
        <p id="p_comparison"></p>
    </div>
    
    <div class="section " id="section8">
        <p>Oops, Germany is not really happy since it is only ranked 72th<br>
        Your own country France is ranked 44th!<br>
        You might reconsider your values ;)
        </p>
    </div>
    
    <!--div class="section active" id="section1">
        <div class="slide" id="slide1">
            <div class="intro">
                <h1>Around the world scrolling</h1>
                <p>Go to the first section and scroll up or to the last one and scroll down to see how it works.</p>
            </div>
        </div>
        <div class="slide active" id="slide2">
            <h1>Slide 2</h1>
        </div>
        <div class="slide" id="slide3">
            <h1>Slide 3</h1>
        </div>

    </div>
    <div class="section" id="section2">
        <div class="intro">
            <h1>Scroll Down</h1>
            <p>And it will animate down to the first section</p>
        </div>
    </div-->
</div>

<script src="range-slider.js"></script>

<script>
    //doublon with test_datamaps.html, put in JavaScript file
    function get_countries_datas(data)
    {
        var countries_datas = {};
        var allTextLines = data.split(/\r\n|\n/);
        var headers = allTextLines[0].split(',');
        for (var i=1; i<allTextLines.length; i++) {
            var data = allTextLines[i].split(',');
            if (data.length == headers.length) {
                var country = data[0];
                countries_datas[country] = {};
                for (var j=1; j<headers.length; j++) {
                    countries_datas[country][headers[j]] = (j == 1 ? data[j] : parseFloat(data[j]));
                }
            }
        }
        return countries_datas;
    }

    var sliders_names = ["Economy (GDP per Capita)", "Freedom", "Family", "Trust (Government Corruption)", "Generosity", "Health (Life Expectancy)"];
    var countries_datas;
    $(document).ready(function() {
        $.get("2015.csv", function (data) {
            countries_datas = get_countries_datas(data);
            for(var country_name in countries_datas) {
                var sum = 0;
                for(var i=0; i<sliders_names.length; i++)
                    sum += countries_datas[country_name][sliders_names[i]];
                for(var i=0; i<sliders_names.length; i++)
                    countries_datas[country_name][sliders_names[i]] /= sum;
            }
            modify_value();
        });
    });

  function modify_value() {
    var values = [];
    var sum = 0;
    for(var i=0; i<sliders_names.length; i++) {
        values.push(parseFloat(document.getElementById(sliders_names[i]).value));
        sum += values[i];
    }
    var msg = "You're so sad :(";
    if(sum > 1e-5)
    {
        for(var i=0; i<sliders_names.length; i++)
            values[i] /= sum;
        console.log(values);
        var country = "", distMin = 1000;
        for(var country_name in countries_datas) {
            var dist = 0;
            for(var i=0; i<sliders_names.length; i++)
                dist += Math.pow(values[i] - countries_datas[country_name][sliders_names[i]], 2);
            if(dist < distMin)
            {
                distMin = dist;
                country = country_name;
            }
        }
        msg = "Your values and perception of happiness is very close to the people of " + country;
    }
    document.getElementById('p_comparison').innerHTML = msg;
  }
</script>
<script>
  /*(function () {

    var selector = '[data-rangeSlider]',
      elements = document.querySelectorAll(selector);

    // Example functionality to demonstrate a value feedback
    function valueOutput(element) {
      var value = element.value,
        output = element.parentNode.getElementsByTagName('output')[0];
      output.innerHTML = value;
    }

    for (var i = elements.length - 1; i >= 0; i--) {
      valueOutput(elements[i]);
    }

    Array.prototype.slice.call(document.querySelectorAll('input[type="range"]')).forEach(function (el) {
      el.addEventListener('input', function (e) {
        valueOutput(e.target);
      }, false);
    });

    // Basic rangeSlider initialization
    rangeSlider.create(elements, {

      // Callback function
      onInit: function () {
      },

      // Callback function
      onSlideStart: function (value, percent, position) {
        console.info('onSlideStart', 'value: ' + value, 'percent: ' + percent, 'position: ' + position);
      },

      // Callback function
      onSlide: function (value, percent, position) {
        console.log('onSlide', 'value: ' + value, 'percent: ' + percent, 'position: ' + position);
      },

      // Callback function
      onSlideEnd: function (value, percent, position) {
        console.warn('onSlideEnd', 'value: ' + value, 'percent: ' + percent, 'position: ' + position);
      }
    });

    rangeSlider.create(document.querySelector('#vertical'), {
      vertical: true
    });

  })();*/
</script>

</body>
</html>
